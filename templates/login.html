<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="/static/js/jquery-1.11.1.min.js"></script>
    <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha1.js"></script>
</head>
<body>
    <form id="form" onsubmit="login()" method="post">
        Vardas
        <input type="text" name="username" />
        Slaptažodis
        <input id="psw" type="password" />
        <input id="nonce" type="hidden" name="nonce" value="{{ nonce }}" />
        <input id="hash" type="hidden" name="hash" />
        <input type="submit" />
    </form>
</body>
</html>
<script>
    $('#form').submit(function () {
        $('#hash').val(CryptoJS.SHA1($('#psw').val() + $('#nonce').val()));
    })
</script>